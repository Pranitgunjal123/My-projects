<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Add New Doctor | CityCare Hospital</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

:root {
    --primary: #FF445B;
    --primary-light: rgba(255, 68, 91, 0.1);
    --primary-dark: #D32F42;
    --sidebar-bg: #1E293B;
    --card-bg: #FFFFFF;
    --bg-color: #F8FAFC;
    --text-dark: #1E293B;
    --text-medium: #64748B;
    --text-light: #94A3B8;
    --border: #E2E8F0;
    --success: #10B981;
    --warning: #F59E0B;
    --info: #3B82F6;
    --shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
    --radius: 16px;
    --curve: 20px;
}

body {
    font-family: 'Poppins', sans-serif;
    background: var(--bg-color);
    color: var(--text-dark);
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 20px;
}

.doctor-form-container {
    background: white;
    border-radius: var(--curve);
    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
    width: 100%;
    max-width: 800px;
    overflow: hidden;
    animation: slideUp 0.5s ease;
}

@keyframes slideUp {
    from { opacity: 0; transform: translateY(30px); }
    to { opacity: 1; transform: translateY(0); }
}

.form-header {
    background: linear-gradient(135deg, var(--primary), #FF6B82);
    color: white;
    padding: 25px 30px;
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.form-header h1 {
    font-size: 24px;
    font-weight: 700;
    display: flex;
    align-items: center;
    gap: 12px;
}

.form-header h1 i {
    background: rgba(255, 255, 255, 0.2);
    width: 50px;
    height: 50px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 12px;
}

.doctor-id-badge {
    background: rgba(255, 255, 255, 0.2);
    padding: 8px 16px;
    border-radius: 20px;
    font-size: 14px;
    font-weight: 600;
    backdrop-filter: blur(10px);
}

.doctor-id-badge span {
    font-weight: 300;
    margin-right: 5px;
}

.form-content {
    padding: 30px;
}

.form-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 20px;
    margin-bottom: 30px;
}

.form-section {
    background: var(--bg-color);
    border-radius: 12px;
    padding: 20px;
    margin-bottom: 25px;
    border-left: 4px solid var(--primary);
}

.form-section h3 {
    font-size: 16px;
    color: var(--primary);
    margin-bottom: 15px;
    display: flex;
    align-items: center;
    gap: 8px;
}

.form-group {
    margin-bottom: 18px;
}

.form-group label {
    display: block;
    font-size: 14px;
    color: var(--text-dark);
    margin-bottom: 6px;
    font-weight: 500;
}

.form-group.required label::after {
    content: ' *';
    color: var(--primary);
}

.input-with-icon {
    position: relative;
}

.input-with-icon i {
    position: absolute;
    left: 15px;
    top: 50%;
    transform: translateY(-50%);
    color: var(--text-light);
    font-size: 16px;
}

.input-with-icon input,
.input-with-icon select,
.input-with-icon textarea {
    width: 100%;
    padding: 12px 15px 12px 45px;
    border: 1px solid var(--border);
    border-radius: 10px;
    font-family: 'Poppins', sans-serif;
    font-size: 14px;
    color: var(--text-dark);
    background: white;
    transition: all 0.3s;
}

.input-with-icon input:focus,
.input-with-icon select:focus,
.input-with-icon textarea:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 3px var(--primary-light);
}

textarea {
    min-height: 80px;
    resize: vertical;
}

/* Gender selector */
.gender-options {
    display: flex;
    gap: 15px;
    margin-top: 8px;
}

.gender-option {
    flex: 1;
}

.gender-option input[type="radio"] {
    display: none;
}

.gender-option label {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 15px 10px;
    border: 2px solid var(--border);
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.3s;
    text-align: center;
}

.gender-option label i {
    font-size: 20px;
    margin-bottom: 8px;
    color: var(--text-light);
}

.gender-option input[type="radio"]:checked + label {
    border-color: var(--primary);
    background: var(--primary-light);
}

.gender-option input[type="radio"]:checked + label i {
    color: var(--primary);
}

/* Status toggle */
.status-toggle {
    display: flex;
    background: var(--bg-color);
    border-radius: 10px;
    overflow: hidden;
    border: 1px solid var(--border);
}

.status-option {
    flex: 1;
    text-align: center;
}

.status-option input[type="radio"] {
    display: none;
}

.status-option label {
    display: block;
    padding: 12px;
    cursor: pointer;
    font-weight: 500;
    transition: all 0.3s;
}

.status-option input[type="radio"]:checked + label {
    background: var(--success);
    color: white;
}

.status-option:nth-child(2) input[type="radio"]:checked + label {
    background: var(--warning);
}

/* Form actions */
.form-actions {
    display: flex;
    justify-content: flex-end;
    gap: 15px;
    padding-top: 20px;
    border-top: 1px solid var(--border);
}

.btn {
    padding: 12px 30px;
    border: none;
    border-radius: 10px;
    font-family: 'Poppins', sans-serif;
    font-size: 15px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s;
    display: flex;
    align-items: center;
    gap: 8px;
}

.btn-primary {
    background: linear-gradient(135deg, var(--primary), #FF6B82);
    color: white;
}

.btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(255, 68, 91, 0.3);
}

.btn-secondary {
    background: white;
    color: var(--text-dark);
    border: 1px solid var(--border);
}

.btn-secondary:hover {
    background: var(--bg-color);
}

/* Success message */
.success-message {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background: var(--success);
    color: white;
    padding: 15px 25px;
    border-radius: 10px;
    display: flex;
    align-items: center;
    gap: 10px;
    box-shadow: 0 6px 20px rgba(16, 185, 129, 0.3);
    animation: slideInRight 0.5s ease;
    display: none;
    z-index: 1000;
}

@keyframes slideInRight {
    from { transform: translateX(100%); opacity: 0; }
    to { transform: translateX(0); opacity: 1; }
}

/* Responsive */
@media (max-width: 768px) {
    .form-grid {
        grid-template-columns: 1fr;
        gap: 15px;
    }
    
    .form-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 15px;
    }
    
    .form-actions {
        flex-direction: column;
    }
    
    .btn {
        width: 100%;
        justify-content: center;
    }
}

@media (max-width: 480px) {
    .form-content {
        padding: 20px;
    }
    
    .gender-options {
        flex-direction: column;
    }
}
</style>
</head>

<body>
<!-- Success Message -->
<div class="success-message" id="successMessage">
    <i class="fas fa-check-circle"></i>
    <span>Doctor added successfully! Redirecting...</span>
</div>

<!-- Main Form Container -->
<div class="doctor-form-container">
    <!-- Form Header -->
    <div class="form-header">
        <h1>
            <i class="fas fa-user-md"></i>
            Add New Doctor
        </h1>
        <div class="doctor-id-badge">
            <span>ID:</span> AUTO-GENERATED
        </div>
    </div>

    <!-- Form Content -->
    <form class="form-content" id="doctorForm" action="DoctorServlet" method="POST">
        <!-- Basic Information Section -->
        <div class="form-section">
            <h3><i class="fas fa-user-circle"></i> Basic Information</h3>
            <div class="form-grid">
                <div class="form-group required">
                    <label for="fullName">Full Name</label>
                    <div class="input-with-icon">
                        <i class="fas fa-user"></i>
                        <input type="text" id="fullName" name="fullName" placeholder="Dr. John Doe" required>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>Gender</label>
                    <div class="gender-options">
                        <div class="gender-option">
                            <input type="radio" id="male" name="gender" value="Male" checked>
                            <label for="male">
                                <i class="fas fa-mars"></i>
                                <span>Male</span>
                            </label>
                        </div>
                        <div class="gender-option">
                            <input type="radio" id="female" name="gender" value="Female">
                            <label for="female">
                                <i class="fas fa-venus"></i>
                                <span>Female</span>
                            </label>
                        </div>
                        <div class="gender-option">
                            <input type="radio" id="other" name="gender" value="Other">
                            <label for="other">
                                <i class="fas fa-transgender-alt"></i>
                                <span>Other</span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="form-grid">
                <div class="form-group required">
                    <label for="mobile">Mobile Number</label>
                    <div class="input-with-icon">
                        <i class="fas fa-phone"></i>
                        <input type="tel" id="mobile" name="mobile" placeholder="Enter 10-digit number" required maxlength="10">
                    </div>
                </div>
                
                <div class="form-group required">
                    <label for="email">Email ID</label>
                    <div class="input-with-icon">
                        <i class="fas fa-envelope"></i>
                        <input type="email" id="email" name="email" placeholder="doctor@citycare.com" required>
                    </div>
                </div>
            </div>
        </div>

        <!-- Professional Details Section -->
        <div class="form-section">
            <h3><i class="fas fa-graduation-cap"></i> Professional Details</h3>
            
            <div class="form-grid">
                <div class="form-group required">
                    <label for="department">Department</label>
                    <div class="input-with-icon">
                        <i class="fas fa-hospital"></i>
                        <select id="department" name="department" required>
                            <option value="">Select Department</option>
                            <option value="Cardiology">Cardiology</option>
                            <option value="Orthopedics">Orthopedics</option>
                            <option value="Neurology">Neurology</option>
                            <option value="General Medicine">General Medicine</option>
                            <option value="Dental">Dental</option>
                            <option value="Pediatrics">Pediatrics</option>
                            <option value="Dermatology">Dermatology</option>
                            <option value="Ophthalmology">Ophthalmology</option>
                            <option value="Emergency">Emergency</option>
                            <option value="ICU">ICU</option>
                            <option value="Surgery">Surgery</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-group required">
                    <label for="experience">Years of Experience</label>
                    <div class="input-with-icon">
                        <i class="fas fa-briefcase"></i>
                        <input type="number" id="experience" name="experience" min="0" max="50" placeholder="5" required>
                    </div>
                </div>
            </div>
            
            <div class="form-grid">
                <div class="form-group required">
                    <label for="license">Medical License No.</label>
                    <div class="input-with-icon">
                        <i class="fas fa-id-card"></i>
                        <input type="text" id="license" name="license" placeholder="MHMC-12345-2023" required>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="qualification">Qualifications</label>
                    <div class="input-with-icon">
                        <i class="fas fa-award"></i>
                        <input type="text" id="qualification" name="qualification" placeholder="MBBS, MD, MS, etc.">
                    </div>
                </div>
            </div>
        </div>

        <!-- Hospital Details Section -->
        <div class="form-section">
            <h3><i class="fas fa-hospital-alt"></i> Hospital Details</h3>
            <div class="form-grid">
                <div class="form-group required">
                    <label for="consultationFee">Consultation Fee (â‚¹)</label>
                    <div class="input-with-icon">
                        <i class="fas fa-rupee-sign"></i>
                        <input type="number" id="consultationFee" name="consultationFee" min="0" placeholder="500" required>
                    </div>
                </div>
                
                <div class="form-group required">
                    <label>Doctor Status</label>
                    <div class="status-toggle">
                        <div class="status-option">
                            <input type="radio" id="active" name="status" value="Active" checked>
                            <label for="active">Active</label>
                        </div>
                        <div class="status-option">
                            <input type="radio" id="onLeave" name="status" value="On Leave">
                            <label for="onLeave">On Leave</label>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Form Actions -->
        <div class="form-actions">
            <button type="button" class="btn btn-secondary" onclick="clearForm()">
                <i class="fas fa-times"></i>
                Cancel
            </button>
            <button type="submit" class="btn btn-primary">
                <i class="fas fa-plus-circle"></i>
                Add Doctor
            </button>
        </div>
    </form>
</div>

<script type="module">
import { store } from './js/dataStore.js';

document.addEventListener('DOMContentLoaded', () => {

  const form = document.getElementById('doctorForm');
  const successMessage = document.getElementById('successMessage');
  const mobileInput = document.getElementById('mobile');

  // allow only 10-digit mobile
  mobileInput.addEventListener('input', e => {
    e.target.value = e.target.value.replace(/\D/g, '').slice(0, 10);
  });

  // load existing doctors
  store.doctors = JSON.parse(localStorage.getItem('doctors')) || [];

  form.addEventListener('submit', e => {
    e.preventDefault();

    if (!validateForm()) return;

    const doctor = {
  id: Date.now(),
  name: document.getElementById('fullName').value,
  department: document.getElementById('department').value,
  experience: document.getElementById('experience').value,
  mobile: document.getElementById('mobile').value,
  email: document.getElementById('email').value,
  status: document.querySelector('input[name="status"]:checked').value,
  createdAt: new Date()
};


    store.doctors.push(doctor);
    localStorage.setItem('doctors', JSON.stringify(store.doctors));

    console.log('Doctor saved:', doctor);

    successMessage.style.display = 'flex';

    setTimeout(() => {
      window.location.href = 'doctors.html';
    }, 1200);
  });

  function validateForm() {
    const required = form.querySelectorAll('[required]');
    let valid = true;

    required.forEach(f => {
      if (!f.value.trim()) {
        f.style.borderColor = 'var(--primary)';
        valid = false;
      } else {
        f.style.borderColor = '';
      }
    });

    return valid;
  }

});
</script>



</body>
</html>